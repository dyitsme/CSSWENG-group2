<html>
    <head>
        <title>G. Ilagan Designs and Construction</title>
        <script src="../../JS/querylib.js"></script>
        <script src="../../JS/redirect.js"></script>
        <link rel="stylesheet" href="../../CSS/homeStyle.css">
        <link rel="stylesheet" href="../../CSS/modal.css">
        <link rel="stylesheet" href="../../CSS/contextMenu.css">
         <script src="https://code.iconify.design/iconify-icon/1.0.1/iconify-icon.min.js"></script>
    </head>
    <body>
        <div id="topBar">
            <img id="topLogo" src="../../pictures/logo.png">
            <a href="{{link}}">Files</a>
            <a href="/profile">Profile</a>
            <a href="/" >Logout</a>
            <form id="topSearch" action="/search-file">
                    <button><img id="sIcon" src="../../pictures/search icon.png"></button>
                    <input type="text" id="textSearch" name="textSearch" placeholder="Search Files">
            </form>
        </div>
    

        <div id="mainBody">
            <div id="actionLabels">
                <h1>Files</h1> 
                 <button id="selectBtn"  class="nextBtn" onclick="toggleSelect()" style="margin-left:auto"><iconify-icon icon="material-symbols:select-check-box"></iconify-icon>Select</button> 
            </div>
            <div id="breadCrumb">
                <button style="{{styling}}" onclick="{{func}}">{{contents}}</button><!--Change display to NONE when not in folder-->
                <p id="breadCrumbDir">{{path}}</p><!--change the FILE LOCATION-->
            </div>
        
            <div id="titleBar">
                <div class="nameDiv"><p id="name">Name</p></div>
                <div class="uploaderDiv"><p class="bordered" id="uploader">Uploaded By</p></div>
                <div class="uploadDateDiv"><p class="bordered" id="uploadDate">Upload Date</p></div>
                <div class="uploadSizeDiv"><p class="bordered" id="uploadSize">File Size</p></div>
            </div>
                    
             <div id="saDiv">
                <input type="checkbox" class="checkbox" id="selectallCheckbox" name="selectAll" onchange="toggleSelectAll()">
                <label id="saLabel" for="selectAll">Select All</label>
            </div>  
            <div id="multContext">
                <p onclick="downloadMany()">Download Selected</p>
            </div>
            <div id="filesContainer">
                {{#each folders}}
                    <div class="folderDiv" oncontextmenu="contextMenu(event, '{{this.name}} cm'); return false">
                        <input type="checkbox" class="foldersCheckbox" value="{{this._id}}"><!--change the NAME of the checkbox for each filename-->
                        <div class="folderNameDiv" id="{{this.name}}">
                            <img class="folderIcon" src="../../pictures/Folder Icon.png">
                            <label for="{{this.name}}" class="folderName">{{this.name}}</label><!--change the NAME and LABEL of the checkbox for each folder name-->
                        </div>
                        <label for="{{this.name}}" class="folderUploadedBy">{{this.uploader}}</label><!--change the USERNAME and LABEL of the checkbox for each folder name-->
                        <label for="{{this.name}}" class="folderUploadDate">{{this.date}}</label><!--change the DATE and LABEL of the checkbox for each folder name-->
                        <label for="{{this.name}}" class="folderSize"></label><!--change the SIZE and LABEL of the checkbox for each filename-->
            
                    </div>
                {{/each}}


                {{#each files}}
                    <div class="fileDiv" oncontextmenu="contextMenu(event, '{{this.name}} cm'); return false">
                        <input type="checkBox" class="filesCheckbox" value="{{this._id}}"><!--change the NAME of the checkbox for each filename-->
                        <div class="filenameDiv">
                            <img class="fileIcon" src="../../pictures/File Icon.png">
                            <label for="{{this.name}}" class="fileName">{{this.name}}</label><!--change the NAME and LABEL of the checkbox for each filename-->
                        </div>
                        <label for="{{this.name}}" class="fileUploadedBy">{{this.uploader}}</label><!--change the USERNAME and LABEL of the checkbox for each filename-->
                        <label for="{{this.name}}" class="fileUploadDate">{{this.date}}</label><!--change the DATE and LABEL of the checkbox for each filename-->
                        <label for="{{this.name}}" class="fileSize">{{this.size}}</label><!--change the SIZE and LABEL of the checkbox for each filename-->
                        <div class="contextMenu" id="{{this.name}} cm">
                             <p onclick="downloadSingle('{{this._id}}')">Download</p>
                    </div>
                        
                    </div>
                   
                {{/each}}
            </div>
        </div>
    </body>
</html>
